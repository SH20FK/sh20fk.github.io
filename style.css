:root {
    --accent-color: #0084ff;
    --dark-bg: #030303;
    --light-color: #d1d1d1;
    --card-bg: rgba(20, 20, 20, 0.5);
    --arrow-color: #FFFFFF; /* Белый цвет для стрелки */
    --arrow-glow-color: rgba(255, 255, 255, 0.4); /* Белое свечение */
    /* Цвета глитча для заголовка */
    --glitch-color-1: var(--accent-color); 
    --glitch-color-2: #FF00FF; 
}

body {
    background-color: var(--dark-bg);
    color: var(--light-color);
    font-family: 'Inter', sans-serif;
    margin: 0;
    overflow-x: hidden;
    cursor: default;
}

#cursor-spotlight {
    position: fixed;
    top: 0;
    left: 0;
    width: 800px;
    height: 800px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 20;
    background: radial-gradient(circle, rgba(0, 132, 255, 0.1) 0%, rgba(0, 132, 255, 0) 60%);
    transition: transform 0.1s linear;
}

#particles-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background-image: radial-gradient(circle at center, #fff 1px, transparent 1.5px), radial-gradient(circle at center, #fff 0.5px, transparent 1px);
    background-size: 500px 500px, 300px 300px;
    animation: move-particles 30s linear infinite;
    opacity: 0.1;
}

@keyframes move-particles {
    to {
        background-position: 500px 500px, -300px -300px;
    }
}

.hero {
    height: 100vh;
    display: flex;
    flex-direction: column; 
    justify-content: flex-start; /* Начинаем элементы сверху */
    align-items: center; /* Центрируем содержимое по горизонтали */
    position: fixed;
    width: 100%;
    top: 0;
    left: 0;
    z-index: 10;
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    padding-top: 15vh; /* Добавляем отступ сверху для надписи */
    box-sizing: border-box; /* Важно для padding */
}

.hero.fade-out {
    opacity: 0;
    transform: scale(0.95);
    pointer-events: none;
}

.glitch-title {
    font-family: 'Roboto Mono', monospace;
    font-size: clamp(3rem, 15vw, 12rem);
    color: var(--light-color);
    text-transform: uppercase;
    position: relative;
    /* margin-bottom: 0; */ /* Убрано, так как используется padding-top на .hero */
}

.glitch-title::before,
.glitch-title::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: var(--dark-bg);
}

.glitch-title::before {
    left: 2px;
    text-shadow: -2px 0 var(--glitch-color-1); /* Используем переменные для глитча */
    animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
}

.glitch-title::after {
    left: -2px;
    text-shadow: -2px 0 var(--glitch-color-2), 2px 2px var(--glitch-color-1); /* Используем переменные для глитча */
    animation: glitch-anim-2 2.5s infinite linear alternate-reverse;
}

@keyframes glitch-anim-1 {
    0% { clip-path: inset(15% 0 86% 0); }
    20% { clip-path: inset(51% 0 26% 0); }
    40% { clip-path: inset(18% 0 55% 0); }
    60% { clip-path: inset(41% 0 16% 0); }
    80% { clip-path: inset(92% 0 2% 0); }
    100% { clip-path: inset(62% 0 32% 0); }
}

@keyframes glitch-anim-2 {
    0% { clip-path: inset(77% 0 10% 0); }
    20% { clip-path: inset(4% 0 81% 0); }
    40% { clip-path: inset(28% 0 62% 0); }
    60% { clip-path: inset(93% 0 3% 0); }
    80% { clip-path: inset(3% 0 89% 0); }
    100% { clip-path: inset(54% 0 8% 0); }
}

/* Стили для стрелочки прокрутки */
.scroll-arrow {
    width: 80px;
    height: 80px;
    opacity: 1;
    cursor: pointer;
    z-index: 11;
    position: absolute; /* Абсолютное позиционирование относительно .hero */
    bottom: 30px; /* Опускаем в самый низ первого слайда (увеличьте при необходимости) */
    left: 50%;
    transform: translateX(-50%); /* Центрирование по горизонтали */
}

.scroll-arrow svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    color: var(--arrow-color); /* Используем белый цвет */
    /* Новые анимации для плавного эффекта */
    animation: float-arrow 2s ease-in-out infinite, pulse-glow 2s ease-in-out infinite; 
}

/* Анимация плавного подъема/опускания */
@keyframes float-arrow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); } /* Легкое движение вверх */
}

/* Анимация пульсирующего свечения */
@keyframes pulse-glow {
    0%, 100% { filter: drop-shadow(0 0 10px var(--arrow-glow-color)); }
    50% { filter: drop-shadow(0 0 20px var(--arrow-glow-color)); } /* Свечение становится ярче */
}


.container {
    width: 100%;
    max-width: 1800px;
    margin: 0 auto;
    padding: 0 50px;
    box-sizing: border-box;
}

#main-content {
    margin-top: 70vh;
    padding-top: 70px; 
    padding-bottom: 30px;
    display: flex;
    gap: 60px;
    opacity: 0;
    transition: opacity 0.8s ease-in;
    align-items: stretch;
}

#main-content.visible {
    opacity: 1;
}

.left-panel, .middle-panel, .right-panel {
    transition: transform 1s ease-out, opacity 1s ease-out;
    transition-delay: 0.2s;
    opacity: 0;
    display: flex;
    flex-direction: column;
    gap: 40px;
}

.left-panel {
    width: 380px;
    flex-shrink: 0;
    transform: translateX(-100px);
}

.middle-panel {
    flex-grow: 1;
    min-width: 0;
    transform: translateY(100px);
}

.right-panel {
    width: 360px;
    flex-shrink: 0;
    transform: translateX(100px);
}

#main-content.visible .left-panel,
#main-content.visible .middle-panel,
#main-content.visible .right-panel {
    transform: none;
    opacity: 1;
}

.card {
    background: var(--card-bg);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 25px;
    border-radius: 10px;
    transition: border-color 0.3s ease;
}

.card:hover {
    border-color: rgba(0, 132, 255, 0.5);
}

.panel-title {
    font-family: 'Roboto Mono', monospace;
    color: var(--light-color);
    margin-top: 0;
}

.player-body { display: flex; align-items: center; gap: 20px; }
.album-art { width: 100px; height: 100px; flex-shrink: 0; border-radius: 50%; border: 2px solid rgba(255, 255, 255, 0.1); transition: border-color 0.3s ease; }
.album-art img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
.album-art.playing { animation: spin 8s linear infinite; }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.track-info { flex-grow: 1; min-width: 0; }
.song-title { font-size: 1.2em; font-weight: bold; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.song-artist { font-size: 0.9em; opacity: 0.7; margin-bottom: 10px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.progress-container { width: 100%; height: 6px; background: rgba(0, 0, 0, 0.3); cursor: pointer; border-radius: 3px; margin: 10px 0; }
.progress-bar { height: 100%; background-color: var(--accent-color); border-radius: 3px; transition: width 0.1s linear; box-shadow: 0 0 8px var(--accent-color); }
.buttons { display: flex; align-items: center; justify-content: flex-start; gap: 15px; margin-top: 10px; }
.control-btn { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--light-color); transition: all 0.2s ease; }
#play-pause-btn { width: 50px; height: 50px; }
.control-btn:hover { background: var(--accent-color); border-color: var(--accent-color); box-shadow: 0 0 10px var(--accent-color); transform: scale(1.1); }
.control-btn svg { width: 22px; height: 22px; }
#play-pause-btn .play-icon, #play-pause-btn .pause-icon { width: 24px; height: 24px; stroke: none; fill: currentColor; }
#play-pause-btn .play-icon { display: block; transform: translateX(2px); }
#play-pause-btn .pause-icon { display: none; }
#play-pause-btn.pause .play-icon { display: none; }
#play-pause-btn.pause .pause-icon { display: block; }

.lastfm-card { padding: 20px 25px; }
.lastfm-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
.lastfm-title-wrapper { display: flex; align-items: center; gap: 15px; }
.lastfm-icon { width: 24px; height: 24px; color: #d51007; }
.lastfm-title { margin: 0; font-family: 'Roboto Mono', monospace; font-size: 1.1em; }
.lastfm-track-info p { margin: 0; line-height: 1.5; }
#lastfm-status { font-weight: bold; color: var(--light-color); }
#lastfm-track { font-size: 0.9em; opacity: 0.8; }
#lastfm-refresh-btn { width: 40px; height: 40px; }
#lastfm-refresh-btn.loading svg { animation: spin 1s linear infinite; }
#lastfm-refresh-btn svg { width: 18px; height: 18px; stroke: currentColor; fill: none; stroke-width: 2.5; }

.links-container { display: flex; flex-direction: column; gap: 20px; margin-top: auto; }
.link-card { display: flex; align-items: center; gap: 20px; text-decoration: none; color: var(--light-color); padding: 20px; }
.link-icon { width: 50px; height: 50px; flex-shrink: 0; border-radius: 50%; background: rgba(255, 255, 255, 0.05); display: flex; align-items: center; justify-content: center; border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.3s ease; }
.link-icon svg { width: 28px; height: 28px; color: var(--light-color); transition: color 0.3s ease; }
.link-card:hover .link-icon { background: var(--accent-color); border-color: var(--accent-color); }
.link-card:hover .link-icon svg { color: var(--dark-bg); }
.link-text { min-width: 0; }
.link-title { font-weight: bold; font-size: 1.1em; }
.link-subtitle { font-size: 0.9em; opacity: 0.6; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.about-me { flex-grow: 1; }
.image-placeholder { height: 280px; padding: 0; overflow: hidden; }
.image-placeholder img { width: 100%; height: 100%; object-fit: cover; display: block; }
.interactive-card { flex-grow: 1; perspective: 1000px; display: flex; flex-direction: column; }

.card-header { display: flex; justify-content: space-between; align-items: center; cursor: pointer; user-select: none; margin-bottom: 15px; }
.card-toggle-arrow { font-size: 1.5rem; font-weight: bold; color: var(--accent-color); }
.flipper-container { flex-grow: 1; transition: transform 0.6s; transform-style: preserve-3d; position: relative; }
.flipper-container.is-flipped { transform: rotateY(180deg); }
.card-face { width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; position: absolute; top: 0; left: 0; display: flex; flex-direction: column; }
.card-back { transform: rotateY(180deg); }
.projects-list { display: flex; flex-direction: column; gap: 15px; }
.project-item { display: block; height: 140px; border-radius: 8px; position: relative; overflow: hidden; background-size: cover; background-position: center; text-decoration: none; color: var(--light-color); transition: transform 0.3s ease, box-shadow 0.3s ease; }
.project-item:hover { transform: translateY(-5px) scale(1.03); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4); }
.project-item-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(2px); padding: 15px; box-sizing: border-box; display: flex; flex-direction: column; justify-content: space-between; transition: background 0.3s ease, backdrop-filter 0.3s ease; }
.project-item:hover .project-item-overlay { background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(0px); }
.project-top-content { display: flex; flex-direction: column; gap: 12px; }
.project-title { font-weight: 700; font-size: 1.1em; margin-bottom: 4px; }
.project-subtitle { font-size: 0.9em; opacity: 0.8; }
.project-tags { display: flex; gap: 6px; flex-wrap: wrap; }
.tag { background: rgba(255, 255, 255, 0.1); padding: 3px 8px; font-size: 0.75em; border-radius: 5px; font-weight: 500; }
.project-link { font-weight: bold; color: var(--light-color); opacity: 0; transform: translateX(10px); transition: opacity 0.3s ease, transform 0.3s ease; align-self: flex-end; }
.project-item:hover .project-link { opacity: 1; transform: translateX(0); }
.setup-list { display: flex; flex-direction: column; gap: 8px; }
.setup-item { display: flex; align-items: center; gap: 15px; padding: 10px; border-radius: 8px; }
.setup-icon { color: var(--light-color); opacity: 0.8; width: 28px; height: 28px; flex-shrink: 0; }
.setup-text { min-width: 0; }
.setup-title { font-weight: bold; }
.setup-subtitle { font-size: 0.9em; opacity: 0.7; }

.volume-control { position: relative; margin-left: auto; display: flex; align-items: center; }
.volume-slider-container { position: absolute; bottom: calc(100% + 15px); left: 50%; transform: translateX(-50%) translateY(10px); background: var(--card-bg); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 10px; width: 30px; height: 120px; padding: 15px 0; box-sizing: border-box; display: flex; justify-content: center; align-items: center; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s; backdrop-filter: blur(10px); }
.volume-control:hover .volume-slider-container { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }
.volume-slider { -webkit-appearance: none; appearance: none; width: 100px; height: 6px; background: transparent; cursor: pointer; transform: rotate(-90deg); }
.volume-slider::-webkit-slider-runnable-track { width: 100px; height: 6px; background: rgba(0, 0, 0, 0.3); border-radius: 3px; }
.volume-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 16px; height: 16px; background: var(--light-color); border-radius: 50%; border: 2px solid var(--dark-bg); margin-top: -5px; transition: transform 0.2s ease; }
.volume-slider:hover::-webkit-slider-thumb { transform: scale(1.2); }
.volume-slider::-moz-range-track { width: 100px; height: 6px; background: rgba(0, 0, 0, 0.3); border-radius: 3px; }
.volume-slider::-moz-range-thumb { width: 16px; height: 16px; background: var(--light-color); border-radius: 50%; border: 2px solid var(--dark-bg); }

@media (max-width: 1200px) {
    .container { padding: 0 20px; }
    #main-content { flex-direction: column; align-items: stretch; }
    .left-panel, .middle-panel, .right-panel { width: 100%; transform: none !important; opacity: 1 !important; }
}
@media (max-width: 768px) {
    .right-panel { flex-direction: column; }
}
@media (max-width: 480px) {
    .player-body { flex-direction: column; align-items: flex-start; }
    .track-info { width: 100%; }
    .left-panel { min-width: auto; }
}